{"version":3,"file":"gatsby-node.js","names":["pluginInitApiName","findApiName","exports","runApiSteps","steps","setGatsbyApiToState","setErrorMap","tempPreventMultipleInstances","setRequestHeaders","pluginOptionsSchema","createSchemaCustomization","ensurePluginRequirementsAreMet","ingestRemoteSchema","sourceNodes","persistPreviouslyCachedImages","setImageNodeIdCache","onPreExtractQueries","onPreExtractQueriesInvokeLeftoverPreviewCallbacks","onPostBuild","logPostBuildWarnings","onCreatePage","onCreatepageSavePreviewNodeIdToPageDependency","onCreatePageRespondToPreviewStatusQuery","onCreateDevServer","imageRoutes","startPollingForContentUpdates"],"sources":["../src/gatsby-node.ts"],"sourcesContent":["import { runApiSteps, findApiName } from \"./utils/run-steps\"\nimport * as steps from \"./steps\"\n\nconst pluginInitApiName = findApiName(`onPluginInit`)\n\nexports[pluginInitApiName] = runApiSteps(\n  [\n    steps.setGatsbyApiToState,\n    steps.setErrorMap,\n    steps.tempPreventMultipleInstances,\n    steps.setRequestHeaders,\n  ],\n  pluginInitApiName\n)\n\nexports.pluginOptionsSchema = steps.pluginOptionsSchema\n\nexports.createSchemaCustomization = runApiSteps(\n  [\n    steps.setGatsbyApiToState,\n    steps.ensurePluginRequirementsAreMet,\n    steps.ingestRemoteSchema,\n    steps.createSchemaCustomization,\n  ],\n  `createSchemaCustomization`\n)\n\nexports.sourceNodes = runApiSteps(\n  [\n    steps.setGatsbyApiToState,\n    steps.persistPreviouslyCachedImages,\n    steps.sourceNodes,\n    steps.setImageNodeIdCache,\n  ],\n  `sourceNodes`\n)\n\nexports.onPreExtractQueries = runApiSteps(\n  [steps.onPreExtractQueriesInvokeLeftoverPreviewCallbacks],\n  `onPreExtractQueries`\n)\n\nexports.onPostBuild = runApiSteps(\n  [steps.setImageNodeIdCache, steps.logPostBuildWarnings],\n  `onPostBuild`\n)\n\nexports.onCreatePage = runApiSteps(\n  [\n    steps.onCreatepageSavePreviewNodeIdToPageDependency,\n    steps.onCreatePageRespondToPreviewStatusQuery,\n  ],\n  `onCreatePage`\n)\n\nexports.onCreateDevServer = runApiSteps(\n  [\n    steps.imageRoutes,\n    steps.setImageNodeIdCache,\n    steps.logPostBuildWarnings,\n    steps.startPollingForContentUpdates,\n  ],\n  `onCreateDevServer`\n)\n"],"mappings":";;AAAA;;AACA;;;;;;AAEA,MAAMA,iBAAiB,GAAG,IAAAC,qBAAA,EAAa,cAAb,CAA1B;AAEAC,OAAO,CAACF,iBAAD,CAAP,GAA6B,IAAAG,qBAAA,EAC3B,CACEC,KAAK,CAACC,mBADR,EAEED,KAAK,CAACE,WAFR,EAGEF,KAAK,CAACG,4BAHR,EAIEH,KAAK,CAACI,iBAJR,CAD2B,EAO3BR,iBAP2B,CAA7B;AAUAE,OAAO,CAACO,mBAAR,GAA8BL,KAAK,CAACK,mBAApC;AAEAP,OAAO,CAACQ,yBAAR,GAAoC,IAAAP,qBAAA,EAClC,CACEC,KAAK,CAACC,mBADR,EAEED,KAAK,CAACO,8BAFR,EAGEP,KAAK,CAACQ,kBAHR,EAIER,KAAK,CAACM,yBAJR,CADkC,EAOjC,2BAPiC,CAApC;AAUAR,OAAO,CAACW,WAAR,GAAsB,IAAAV,qBAAA,EACpB,CACEC,KAAK,CAACC,mBADR,EAEED,KAAK,CAACU,6BAFR,EAGEV,KAAK,CAACS,WAHR,EAIET,KAAK,CAACW,mBAJR,CADoB,EAOnB,aAPmB,CAAtB;AAUAb,OAAO,CAACc,mBAAR,GAA8B,IAAAb,qBAAA,EAC5B,CAACC,KAAK,CAACa,iDAAP,CAD4B,EAE3B,qBAF2B,CAA9B;AAKAf,OAAO,CAACgB,WAAR,GAAsB,IAAAf,qBAAA,EACpB,CAACC,KAAK,CAACW,mBAAP,EAA4BX,KAAK,CAACe,oBAAlC,CADoB,EAEnB,aAFmB,CAAtB;AAKAjB,OAAO,CAACkB,YAAR,GAAuB,IAAAjB,qBAAA,EACrB,CACEC,KAAK,CAACiB,6CADR,EAEEjB,KAAK,CAACkB,uCAFR,CADqB,EAKpB,cALoB,CAAvB;AAQApB,OAAO,CAACqB,iBAAR,GAA4B,IAAApB,qBAAA,EAC1B,CACEC,KAAK,CAACoB,WADR,EAEEpB,KAAK,CAACW,mBAFR,EAGEX,KAAK,CAACe,oBAHR,EAIEf,KAAK,CAACqB,6BAJR,CAD0B,EAOzB,mBAPyB,CAA5B"}