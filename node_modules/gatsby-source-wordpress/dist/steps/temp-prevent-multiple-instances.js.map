{"version":3,"file":"temp-prevent-multiple-instances.js","names":["isWpSourcePluginInstalled","tempPreventMultipleInstances","reporter","panic","formatLogMessage","useVerboseStyle"],"sources":["../../src/steps/temp-prevent-multiple-instances.ts"],"sourcesContent":["import { Reporter } from \"gatsby/reporter\"\nimport { formatLogMessage } from \"../utils/format-log-message\"\n\nlet isWpSourcePluginInstalled = false\n\n/**\n * Temporarily break the build when a user defines multiple source configs for the plugin\n * See https://github.com/gatsbyjs/gatsby-source-wordpress/issues/251\n * @param {Reporter} reporter\n */\n\nexport function tempPreventMultipleInstances({\n  reporter,\n}: {\n  reporter: Reporter\n}): void {\n  if (isWpSourcePluginInstalled) {\n    reporter.panic(\n      formatLogMessage(\n        `Multiple instances of this plugin aren't currently supported yet.`,\n        { useVerboseStyle: true }\n      )\n    )\n  } else {\n    isWpSourcePluginInstalled = true\n  }\n}\n"],"mappings":";;;;;AACA;;AAEA,IAAIA,yBAAyB,GAAG,KAAhC;AAEA;AACA;AACA;AACA;AACA;;AAEO,SAASC,4BAAT,CAAsC;EAC3CC;AAD2C,CAAtC,EAIE;EACP,IAAIF,yBAAJ,EAA+B;IAC7BE,QAAQ,CAACC,KAAT,CACE,IAAAC,kCAAA,EACG,mEADH,EAEE;MAAEC,eAAe,EAAE;IAAnB,CAFF,CADF;EAMD,CAPD,MAOO;IACLL,yBAAyB,GAAG,IAA5B;EACD;AACF"}